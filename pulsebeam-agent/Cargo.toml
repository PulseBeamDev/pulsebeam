[package]
name = "pulsebeam-agent"
license = "Apache-2.0"
publish = false
version.workspace = true
edition.workspace = true
homepage.workspace = true
documentation.workspace = true
repository.workspace = true
authors.workspace = true

[features]
default = ["ffmpeg-static"]

# Force static linking (default)
ffmpeg-static = ["ffmpeg-next/build"]

# Use dynamic linking instead
ffmpeg-dynamic = []

[dependencies]
futures = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }
str0m = { workspace = true }
bytes = { workspace = true }

tokio = { workspace = true, optional = true }
reqwest = { version = "0.12.23", optional = true }
maybe-async = "0.2.10"
http = "1.3.1"

# FFmpeg integration
ffmpeg-next = { version = "8.0.0", default-features = false, features = ["codec", "format", "filter", "software-resampling", "software-scaling"] }
